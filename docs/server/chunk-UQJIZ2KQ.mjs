import './polyfills.server.mjs';
import{c as Pe}from"./chunk-2XBPWYSV.mjs";import{a as ze,b as qe}from"./chunk-WW5K67GS.mjs";import{f as De,g as _e,s as Ue,t as Ne,u as Ve,x as $e,y as F}from"./chunk-22XRQKRU.mjs";import{$a as R,B as ge,Da as Fe,Ea as _,G as Re,H as Ee,La as U,M as Se,Ma as B,N as be,Pa as G,Qa as je,U as D,V as d,Xa as Ae,Y as xe,Z as we,Za as Te,_a as y,aa as b,ab as K,ba as f,bb as Oe,c as k,cb as N,da as c,db as H,eb as E,f as me,fb as ke,g as M,h as he,hb as Z,ib as Y,j as ye,ja as u,ka as g,na as L,p as ve,ua as Ce,wa as Ie,xb as Me}from"./chunk-JPZYCFCC.mjs";import{a as v,b as O}from"./chunk-VVCT4QZE.mjs";function Q(e,t){let o=!t?.manualCleanup;o&&!t?.injector&&Ce(Q);let r=o?t?.injector?.get(G)??g(G):null,n;t?.requireSync?n=B({kind:0}):n=B({kind:1,value:t?.initialValue});let i=e.subscribe({next:s=>n.set({kind:1,value:s}),error:s=>{if(t?.rejectErrors)throw s;n.set({kind:2,error:s})}});return r?.onDestroy(i.unsubscribe.bind(i)),U(()=>{let s=n();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new be(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var ee={};function oe(e,t){if(ee[e]=(ee[e]||0)+1,typeof t=="function")return W(e,(...r)=>O(v({},t(...r)),{type:e}));switch(t?t._as:"empty"){case"empty":return W(e,()=>({type:e}));case"props":return W(e,r=>O(v({},r),{type:e}));default:throw new Error("Unexpected config.")}}function nt(){return{_as:"props",_p:void 0}}function W(e,t){return Object.defineProperty(t,"type",{value:e,writable:!1})}var ot="@ngrx/store/init",x=(()=>{let t=class t extends M{constructor(){super({type:ot})}next(r){if(typeof r=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof r>"u")throw new TypeError("Actions must be objects");if(typeof r.type>"u")throw new TypeError("Actions must have a type property");super.next(r)}complete(){}ngOnDestroy(){super.complete()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac});let e=t;return e})(),wt=[x],it=new c("@ngrx/store Internal Root Guard"),Le=new c("@ngrx/store Internal Initial State"),ie=new c("@ngrx/store Initial State"),st=new c("@ngrx/store Reducer Factory"),Be=new c("@ngrx/store Internal Reducer Factory Provider"),ct=new c("@ngrx/store Initial Reducers"),J=new c("@ngrx/store Internal Initial Reducers"),Ge=new c("@ngrx/store Store Features"),Ke=new c("@ngrx/store Internal Store Reducers"),X=new c("@ngrx/store Internal Feature Reducers"),He=new c("@ngrx/store Internal Feature Configs"),ut=new c("@ngrx/store Internal Store Features"),Ze=new c("@ngrx/store Internal Feature Reducers Token"),at=new c("@ngrx/store Feature Reducers"),Ye=new c("@ngrx/store User Provided Meta Reducers"),P=new c("@ngrx/store Meta Reducers"),Qe=new c("@ngrx/store Internal Resolved Meta Reducers"),We=new c("@ngrx/store User Runtime Checks Config"),Je=new c("@ngrx/store Internal User Runtime Checks Config"),j=new c("@ngrx/store Internal Runtime Checks"),se=new c("@ngrx/store Check if Action types are unique"),Cr=new c("@ngrx/store Root Store Provider"),Ir=new c("@ngrx/store Feature State Provider");function ce(e,t={}){let o=Object.keys(e),r={};for(let i=0;i<o.length;i++){let s=o[i];typeof e[s]=="function"&&(r[s]=e[s])}let n=Object.keys(r);return function(s,m){s=s===void 0?t:s;let a=!1,l={};for(let p=0;p<n.length;p++){let h=n[p],I=r[h],fe=s[h],pe=I(fe,m);l[h]=pe,a=a||pe!==fe}return a?l:s}}function Ct(e,t){return Object.keys(e).filter(o=>o!==t).reduce((o,r)=>Object.assign(o,{[r]:e[r]}),{})}function lt(...e){return function(t){if(e.length===0)return t;let o=e[e.length-1];return e.slice(0,-1).reduceRight((n,i)=>i(n),o(t))}}function dt(e,t){return Array.isArray(t)&&t.length>0&&(e=lt.apply(null,[...t,e])),(o,r)=>{let n=e(o);return(i,s)=>(i=i===void 0?r:i,n(i,s))}}function It(e){let t=Array.isArray(e)&&e.length>0?lt(...e):o=>o;return(o,r)=>(o=t(o),(n,i)=>(n=n===void 0?r:n,o(n,i)))}var A=class extends k{},V=class extends x{},Ft="@ngrx/store/update-reducers",$=(()=>{let t=class t extends M{get currentReducers(){return this.reducers}constructor(r,n,i,s){super(s(i,n)),this.dispatcher=r,this.initialState=n,this.reducers=i,this.reducerFactory=s}addFeature(r){this.addFeatures([r])}addFeatures(r){let n=r.reduce((i,{reducers:s,reducerFactory:m,metaReducers:a,initialState:l,key:p})=>{let h=typeof s=="function"?It(a)(s,l):dt(m,a)(s,l);return i[p]=h,i},{});this.addReducers(n)}removeFeature(r){this.removeFeatures([r])}removeFeatures(r){this.removeReducers(r.map(n=>n.key))}addReducer(r,n){this.addReducers({[r]:n})}addReducers(r){this.reducers=v(v({},this.reducers),r),this.updateReducers(Object.keys(r))}removeReducer(r){this.removeReducers([r])}removeReducers(r){r.forEach(n=>{this.reducers=Ct(this.reducers,n)}),this.updateReducers(r)}updateReducers(r){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Ft,features:r})}ngOnDestroy(){this.complete()}};t.\u0275fac=function(n){return new(n||t)(u(V),u(ie),u(ct),u(st))},t.\u0275prov=b({token:t,factory:t.\u0275fac});let e=t;return e})(),jt=[$,{provide:A,useExisting:$},{provide:V,useExisting:x}],ue=(()=>{let t=class t extends me{ngOnDestroy(){this.complete()}};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=Ie(t)))(i||t)}})(),t.\u0275prov=b({token:t,factory:t.\u0275fac});let e=t;return e})(),At=[ue],z=class extends k{},Xe=(()=>{let t=class t extends M{constructor(r,n,i,s){super(s);let a=r.pipe(ye(he)).pipe(Se(n)),l={state:s},p=a.pipe(Ee(Tt,l));this.stateSubscription=p.subscribe(({state:h,action:I})=>{this.next(h),i.next(I)}),this.state=Q(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};t.INIT=ot,t.\u0275fac=function(n){return new(n||t)(u(x),u(A),u(ue),u(ie))},t.\u0275prov=b({token:t,factory:t.\u0275fac});let e=t;return e})();function Tt(e={state:void 0},[t,o]){let{state:r}=e;return{state:o(r,t),action:t}}var Ot=[Xe,{provide:z,useExisting:Xe}],S=(()=>{let t=class t extends k{constructor(r,n,i){super(),this.actionsObserver=n,this.reducerManager=i,this.source=r,this.state=r.state}select(r,...n){return Mt.call(null,r,...n)(this)}selectSignal(r,n){return U(()=>r(this.state()),n)}lift(r){let n=new t(this,this.actionsObserver,this.reducerManager);return n.operator=r,n}dispatch(r){this.actionsObserver.next(r)}next(r){this.actionsObserver.next(r)}error(r){this.actionsObserver.error(r)}complete(){this.actionsObserver.complete()}addReducer(r,n){this.reducerManager.addReducer(r,n)}removeReducer(r){this.reducerManager.removeReducer(r)}};t.\u0275fac=function(n){return new(n||t)(u(z),u(x),u($))},t.\u0275prov=b({token:t,factory:t.\u0275fac});let e=t;return e})(),kt=[S];function Mt(e,t,...o){return function(n){let i;if(typeof e=="string"){let s=[t,...o].filter(Boolean);i=n.pipe(Re(e,...s))}else if(typeof e=="function")i=n.pipe(ve(s=>e(s,t)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return i.pipe(ge())}}var ae="https://ngrx.io/guide/store/configuration/runtime-checks";function et(e){return e===void 0}function tt(e){return e===null}function ft(e){return Array.isArray(e)}function Dt(e){return typeof e=="string"}function _t(e){return typeof e=="boolean"}function Ut(e){return typeof e=="number"}function pt(e){return typeof e=="object"&&e!==null}function Nt(e){return pt(e)&&!ft(e)}function Pt(e){if(!Nt(e))return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function te(e){return typeof e=="function"}function Vt(e){return te(e)&&e.hasOwnProperty("\u0275cmp")}function $t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function zt(e){return e instanceof c?g(e):e}function qt(e,t){return t.map((o,r)=>{if(e[r]instanceof c){let n=g(e[r]);return{key:o.key,reducerFactory:n.reducerFactory?n.reducerFactory:ce,metaReducers:n.metaReducers?n.metaReducers:[],initialState:n.initialState}}return o})}function Lt(e){return e.map(t=>t instanceof c?g(t):t)}function mt(e){return typeof e=="function"?e():e}function Bt(e,t){return e.concat(t)}function Gt(){if(g(S,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Kt(e,t){return function(o,r){let n=t.action(r)?re(r):r,i=e(o,n);return t.state()?re(i):i}}function re(e){Object.freeze(e);let t=te(e);return Object.getOwnPropertyNames(e).forEach(o=>{if(!o.startsWith("\u0275")&&$t(e,o)&&(!t||o!=="caller"&&o!=="callee"&&o!=="arguments")){let r=e[o];(pt(r)||te(r))&&!Object.isFrozen(r)&&re(r)}}),e}function Ht(e,t){return function(o,r){if(t.action(r)){let i=ne(r);rt(i,"action")}let n=e(o,r);if(t.state()){let i=ne(n);rt(i,"state")}return n}}function ne(e,t=[]){return(et(e)||tt(e))&&t.length===0?{path:["root"],value:e}:Object.keys(e).reduce((r,n)=>{if(r)return r;let i=e[n];return Vt(i)?r:et(i)||tt(i)||Ut(i)||_t(i)||Dt(i)||ft(i)?!1:Pt(i)?ne(i,[...t,n]):{path:[...t,n],value:i}},!1)}function rt(e,t){if(e===!1)return;let o=e.path.join("."),r=new Error(`Detected unserializable ${t} at "${o}". ${ae}#strict${t}serializability`);throw r.value=e.value,r.unserializablePath=o,r}function Zt(e,t){return function(o,r){if(t.action(r)&&!je.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${ae}#strictactionwithinngzone`);return e(o,r)}}function Yt(e){return Me()?v({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Qt({strictActionSerializability:e,strictStateSerializability:t}){return o=>e||t?Ht(o,{action:r=>e&&!le(r),state:()=>t}):o}function Wt({strictActionImmutability:e,strictStateImmutability:t}){return o=>e||t?Kt(o,{action:r=>e&&!le(r),state:()=>t}):o}function le(e){return e.type.startsWith("@ngrx")}function Jt({strictActionWithinNgZone:e}){return t=>e?Zt(t,{action:o=>e&&!le(o)}):t}function Xt(e){return[{provide:Je,useValue:e},{provide:We,useFactory:er,deps:[Je]},{provide:j,deps:[We],useFactory:Yt},{provide:P,multi:!0,deps:[j],useFactory:Wt},{provide:P,multi:!0,deps:[j],useFactory:Qt},{provide:P,multi:!0,deps:[j],useFactory:Jt}]}function ht(){return[{provide:se,multi:!0,deps:[j],useFactory:tr}]}function er(e){return e}function tr(e){if(!e.strictActionTypeUniqueness)return;let t=Object.entries(ee).filter(([,o])=>o>1).map(([o])=>o);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(o=>`"${o}"`).join(", ")}. ${ae}#strictactiontypeuniqueness`)}function rr(e={},t={}){return[{provide:it,useFactory:Gt},{provide:Le,useValue:t.initialState},{provide:ie,useFactory:mt,deps:[Le]},{provide:J,useValue:e},{provide:Ke,useExisting:e instanceof c?e:J},{provide:ct,deps:[J,[new L(Ke)]],useFactory:zt},{provide:Ye,useValue:t.metaReducers?t.metaReducers:[]},{provide:Qe,deps:[P,Ye],useFactory:Bt},{provide:Be,useValue:t.reducerFactory?t.reducerFactory:ce},{provide:st,deps:[Be,Qe],useFactory:dt},wt,jt,At,Ot,kt,Xt(t.runtimeChecks),ht()]}function nr(e,t,o={}){return[{provide:He,multi:!0,useValue:e instanceof Object?{}:o},{provide:Ge,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:!(o instanceof c)&&o.reducerFactory?o.reducerFactory:ce,metaReducers:!(o instanceof c)&&o.metaReducers?o.metaReducers:[],initialState:!(o instanceof c)&&o.initialState?o.initialState:void 0}},{provide:ut,deps:[He,Ge],useFactory:qt},{provide:X,multi:!0,useValue:e instanceof Object?e.reducer:t},{provide:Ze,multi:!0,useExisting:t instanceof c?t:X},{provide:at,multi:!0,deps:[X,[new L(Ze)]],useFactory:Lt},ht()]}var yt=(()=>{let t=class t{constructor(r,n,i,s,m,a){}};t.\u0275fac=function(n){return new(n||t)(u(x),u(A),u(ue),u(S),u(it,8),u(se,8))},t.\u0275mod=d({type:t}),t.\u0275inj=f({});let e=t;return e})(),or=(()=>{let t=class t{constructor(r,n,i,s,m){this.features=r,this.featureReducers=n,this.reducerManager=i;let a=r.map((l,p)=>{let I=n.shift()[p];return O(v({},l),{reducers:I,initialState:mt(l.initialState)})});i.addFeatures(a)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}};t.\u0275fac=function(n){return new(n||t)(u(ut),u(at),u($),u(yt),u(se,8))},t.\u0275mod=d({type:t}),t.\u0275inj=f({});let e=t;return e})(),vt=(()=>{let t=class t{static forRoot(r,n){return{ngModule:yt,providers:[...rr(r,n)]}}static forFeature(r,n,i={}){return{ngModule:or,providers:[...nr(r,n,i)]}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=d({type:t}),t.\u0275inj=f({});let e=t;return e})();function de(...e){let t=e.pop(),o=e.map(r=>r.type);return{reducer:t,types:o}}function gt(e,...t){let o=new Map;for(let r of t)for(let n of r.types){let i=o.get(n);if(i){let s=(m,a)=>r.reducer(i(m,a),a);o.set(n,s)}else o.set(n,r.reducer)}return function(r=e,n){let i=o.get(n.type);return i?i(r,n):r}}var q=oe("[alert] showError",nt()),w=oe("[alert] removeError");function ir(e,t){if(e&1){let o=Oe();y(0,"div",1),E(1),Z(2,"async"),y(3,"button",2),N("click",function(){xe(o);let n=H();return we(n.closeAlert())}),R()()}if(e&2){let o=H();Fe(),ke(" ",Y(2,1,o.message$)," ")}}var Et=(()=>{let t=class t{constructor(r){this.store=r,this.message$=this.store.select("alert")}closeAlert(){this.store.dispatch(w())}};t.\u0275fac=function(n){return new(n||t)(_(S))},t.\u0275cmp=D({type:t,selectors:[["app-alert2"]],decls:2,vars:3,consts:[["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(n,i){n&1&&(Ae(0,ir,4,3,"div",0),Z(1,"async")),n&2&&Te("ngIf",Y(1,1,i.message$))},dependencies:[De,_e],encapsulation:2});let e=t;return e})();var C=(()=>{let t=class t{constructor(r){this.store=r,this.title="fourth-app",this.error=null}onErr(){this.store.dispatch(q({message:"this is an error"})),setTimeout(()=>{this.store.dispatch(w())},1e3)}closeErr(){this.error=null,setTimeout(()=>{console.log("error"),this.error=null},1e3)}};t.\u0275fac=function(n){return new(n||t)(_(S))},t.\u0275cmp=D({type:t,selectors:[["app-root"]],decls:15,vars:0,consts:[[1,"navbar","navbar-expand"],[1,"nav","nav-bar"],[1,"nav-item"],["routerLink","",1,"nav-link"],["routerLink","group",1,"nav-link"],["routerLink","standalone",1,"nav-link"],[1,"btn","btn-outline-danger",3,"click"]],template:function(n,i){n&1&&(y(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),E(4,"Home"),R()(),y(5,"li",2)(6,"a",4),E(7,"Group"),R()(),y(8,"li",2)(9,"a",5),E(10,"Standalone"),R()()()(),K(11,"app-alert2"),y(12,"button",6),N("click",function(){return i.onErr()}),E(13,"Add Error"),R(),K(14,"router-outlet"))},dependencies:[Ve,$e,Et]});let e=t;return e})();var cr=[{path:"",component:C},{path:"group",loadChildren:()=>import("./chunk-FDOUETRS.mjs").then(e=>e.GroupModule)},{path:"standalone",loadComponent:()=>import("./chunk-AS4TFJ6G.mjs").then(e=>e.StandaloneComponent)}],St=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=d({type:t}),t.\u0275inj=f({imports:[F.forRoot(cr),F]});let e=t;return e})();var ur=null,bt=gt(ur,de(q,(e,t)=>e=t.message),de(w,e=>e=null));var xt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=d({type:t,bootstrap:[C]}),t.\u0275inj=f({providers:[Ne()],imports:[F,Ue,St,ze,qe,vt.forRoot({alert:bt},{})]});let e=t;return e})();var ar=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=d({type:t,bootstrap:[C]}),t.\u0275inj=f({imports:[xt,Pe]});let e=t;return e})();export{ar as a};
